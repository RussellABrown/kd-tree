#! /bin/bash
# Create a.out by compiling with -D NLOGN -D ENABLE_PREFERRED_TEST
read -s -p "Enter Password for sudo: " sudoPW
echo $sudoPW | sudo -S time perf stat -e LLC-load-misses,cache-misses,cache-references -o ./test/dynamic/63k/i7.14.63k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.cache.txt taskset -c 0-15 ./a.out -d 3 -n 62746 -c 262144 -t 16 -b -w -i 10 > ./test/dynamic/63k/i7.14.63k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.txt
echo $sudoPW | sudo -S time perf stat -e LLC-load-misses,cache-misses,cache-references -o ./test/dynamic/119k/i7.14.119k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.cache.txt taskset -c 0-15 ./a.out -d 3 -n 118650 -c 262144 -t 16 -b -w -i 10 > ./test/dynamic/119k/i7.14.119k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.txt
echo $sudoPW | sudo -S time perf stat -e LLC-load-misses,cache-misses,cache-references -o ./test/dynamic/172k/i7.14.172k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.cache.txt taskset -c 0-15 ./a.out -d 3 -n 172455 -c 262144 -t 16 -b -w -i 10 > ./test/dynamic/172k/i7.14.172k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.txt
echo $sudoPW | sudo -S time perf stat -e LLC-load-misses,cache-misses,cache-references -o ./test/dynamic/225k/i7.14.225k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.cache.txt taskset -c 0-15 ./a.out -d 3 -n 224979 -c 262144 -t 16 -b -w -i 10 > ./test/dynamic/225k/i7.14.225k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.txt
echo $sudoPW | sudo -S time perf stat -e LLC-load-misses,cache-misses,cache-references -o ./test/dynamic/277k/i7.14.277k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.cache.txt taskset -c 0-15 ./a.out -d 3 -n 276589 -c 262144 -t 16 -b -w -i 10 > ./test/dynamic/277k/i7.14.277k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.txt
echo $sudoPW | sudo -S time perf stat -e LLC-load-misses,cache-misses,cache-references -o ./test/dynamic/327k/i7.14.327k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.cache.txt taskset -c 0-15 ./a.out -d 3 -n 327491 -c 262144 -t 16 -b -w -i 10 > ./test/dynamic/327k/i7.14.327k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.txt
echo $sudoPW | sudo -S time perf stat -e LLC-load-misses,cache-misses,cache-references -o ./test/dynamic/378k/i7.14.378k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.cache.txt taskset -c 0-15 ./a.out -d 3 -n 377820 -c 262144 -t 16 -b -w -i 10 > ./test/dynamic/378k/i7.14.378k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.txt
echo $sudoPW | sudo -S time perf stat -e LLC-load-misses,cache-misses,cache-references -o ./test/dynamic/428k/i7.14.428k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.cache.txt taskset -c 0-15 ./a.out -d 3 -n 427667 -c 262144 -t 16 -b -w -i 10 > ./test/dynamic/428k/i7.14.428k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.txt
echo $sudoPW | sudo -S time perf stat -e LLC-load-misses,cache-misses,cache-references -o ./test/dynamic/477k/i7.14.477k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.cache.txt taskset -c 0-15 ./a.out -d 3 -n 477101 -c 262144 -t 16 -b -w -i 10 > ./test/dynamic/477k/i7.14.477k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.txt
echo $sudoPW | sudo -S time perf stat -e LLC-load-misses,cache-misses,cache-references -o ./test/dynamic/526k/i7.14.526k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.cache.txt taskset -c 0-15 ./a.out -d 3 -n 526172 -c 262144 -t 16 -b -w -i 10 > ./test/dynamic/526k/i7.14.526k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.txt
echo $sudoPW | sudo -S time perf stat -e LLC-load-misses,cache-misses,cache-references -o ./test/dynamic/1003k/i7.14.1003k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.cache.txt taskset -c 0-15 ./a.out -d 3 -n 1003201 -c 262144 -t 16 -b -w -i 10 > ./test/dynamic/1003k/i7.14.1003k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.txt
echo $sudoPW | sudo -S time perf stat -e LLC-load-misses,cache-misses,cache-references -o ./test/dynamic/1465k/i7.14.1465k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.cache.txt taskset -c 0-15 ./a.out -d 3 -n 1464689 -c 262144 -t 16 -b -w -i 10 > ./test/dynamic/1465k/i7.14.1465k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.txt
echo $sudoPW | sudo -S time perf stat -e LLC-load-misses,cache-misses,cache-references -o ./test/dynamic/1917k/i7.14.1917k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.cache.txt taskset -c 0-15 ./a.out -d 3 -n 1916615 -c 262144 -t 16 -b -w -i 10 > ./test/dynamic/1917k/i7.14.1917k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.txt
echo $sudoPW | sudo -S time perf stat -e LLC-load-misses,cache-misses,cache-references -o ./test/dynamic/2362k/i7.14.2362k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.cache.txt taskset -c 0-15 ./a.out -d 3 -n 2361679 -c 262144 -t 16 -b -w -i 10 > ./test/dynamic/2362k/i7.14.2362k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.txt
echo $sudoPW | sudo -S time perf stat -e LLC-load-misses,cache-misses,cache-references -o ./test/dynamic/2801k/i7.14.2801k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.cache.txt taskset -c 0-15 ./a.out -d 3 -n 2801418 -c 262144 -t 16 -b -w -i 10 > ./test/dynamic/2801k/i7.14.2801k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.txt
echo $sudoPW | sudo -S time perf stat -e LLC-load-misses,cache-misses,cache-references -o ./test/dynamic/3237k/i7.14.3237k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.cache.txt taskset -c 0-15 ./a.out -d 3 -n 3236823 -c 262144 -t 16 -b -w -i 10 > ./test/dynamic/3237k/i7.14.3237k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.txt
echo $sudoPW | sudo -S time perf stat -e LLC-load-misses,cache-misses,cache-references -o ./test/dynamic/3669k/i7.14.3669k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.cache.txt taskset -c 0-15 ./a.out -d 3 -n 3668582 -c 262144 -t 16 -b -w -i 10 > ./test/dynamic/3669k/i7.14.3669k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.txt
echo $sudoPW | sudo -S time perf stat -e LLC-load-misses,cache-misses,cache-references -o ./test/dynamic/4097k/i7.14.4097k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.cache.txt taskset -c 0-15 ./a.out -d 3 -n 4097202 -c 262144 -t 16 -b -w -i 10 > ./test/dynamic/4097k/i7.14.4097k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.txt
echo $sudoPW | sudo -S time perf stat -e LLC-load-misses,cache-misses,cache-references -o ./test/dynamic/4523k/i7.14.4523k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.cache.txt taskset -c 0-15 ./a.out -d 3 -n 4523071 -c 262144 -t 16 -b -w -i 10 > ./test/dynamic/4523k/i7.14.4523k.3d.nlogn.preferred.worst.forward.c256k.16t.10i.txt
